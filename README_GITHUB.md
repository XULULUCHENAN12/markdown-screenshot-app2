# 📱 Markdown截图工具

一个专门解决Markdown代码块截图问题的Flutter Android应用。

## 🎯 核心功能

- **代码块自动换行** - 强制使用 `white-space: pre-wrap`，彻底解决长条图问题
- **VS Code Dark+主题** - 深色背景 (#1E1E1E) 配浅色文字 (#D4D4D4)
- **智能截图系统** - WebView渲染 + 质量验证 + 自动恢复机制
- **思考过程支持** - 可同时显示思考过程和回答内容
- **多语言代码支持** - JavaScript, Python, Java, C#, Go, Rust等

## 🚀 快速下载

### 方法1: GitHub Releases（推荐）
1. 访问 [Releases页面](../../releases)
2. 下载最新的 `app-release.apk`
3. 安装到Android设备

### 方法2: GitHub Actions构建
1. 访问 [Actions页面](../../actions)
2. 点击最新的构建任务
3. 在 "Artifacts" 区域下载APK

## 📱 安装说明

1. **下载APK** - 从上方链接下载 `app-release.apk`
2. **允许未知来源** - 在Android设备设置中允许安装未知来源应用
3. **安装应用** - 点击APK文件进行安装
4. **授予权限** - 首次运行时授予存储权限
5. **开始使用** - 输入Markdown内容，生成截图！

## 🧪 测试用例

应用内置5种测试用例：
- **超长代码行测试** - 验证自动换行效果
- **混合内容测试** - 代码块与其他元素混合
- **特殊字符测试** - Unicode和特殊符号
- **多语言代码测试** - 各种编程语言
- **思考过程示例** - 完整的思考+回答示例

## 🔧 技术特性

### 核心问题解决
- ✅ **代码块换行** - `white-space: pre-wrap !important`
- ✅ **禁用水平滚动** - `overflow-x: hidden !important`
- ✅ **固定容器宽度** - 800px适配手机屏幕
- ✅ **强制断词** - `word-break: break-all !important`

### 截图优化
- ✅ **质量验证** - 自动检测图片尺寸、宽高比、颜色
- ✅ **失败恢复** - 截图失败时自动调整参数重试
- ✅ **移动端优化** - 禁用缩放，固定视口
- ✅ **权限管理** - 自动申请存储权限

## 📊 系统要求

- **Android版本**: 5.0+ (API 21+)
- **存储空间**: 25MB+
- **权限**: 存储读写权限

## 🛠️ 开发信息

- **框架**: Flutter 3.16.0
- **语言**: Dart
- **渲染引擎**: WebView + flutter_markdown_plus
- **截图引擎**: screenshot + WebView

## 📸 使用方法

1. **输入思考过程**（可选）- 在顶部文本框输入
2. **输入Markdown内容** - 在主文本框输入要截图的内容
3. **设置文件名**（可选）- 留空将自动生成时间戳文件名
4. **选择测试用例** - 点击🧪图标快速加载预设内容
5. **生成截图** - 点击📷按钮生成截图
6. **查看结果** - 截图保存到设备存储，显示保存路径

## 🎨 截图效果

生成的截图具备以下特点：
- 米色背景 (#FDF5E6) 温和护眼
- 代码块VS Code Dark+主题
- 固定800px宽度适合移动端
- 思考过程灰色边框显示
- 完全无水平滚动条

## 📝 基于需求开发

本应用完全基于DeepSeek油猴脚本的成功实践开发，专门解决：
- ❌ 长条图片问题 → ✅ 自动换行
- ❌ 截图失败问题 → ✅ 智能恢复
- ❌ 主题不统一 → ✅ VS Code Dark+
- ❌ 移动端适配 → ✅ 专为手机优化

## 🤝 贡献

欢迎提交Issue和Pull Request来改进应用功能！

## 📄 许可证

MIT License - 自由使用和修改

---

**🎉 让Markdown代码块截图变得简单优雅！**